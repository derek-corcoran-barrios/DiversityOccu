library(DiversityOccupancy)
sessionInfo()
install.packages(c("roxygen2", "unmarked", "raster", "MuMIn"))
install.packages(c("dplyr", "ggplot2", "glmulti", "vegan"))
install.packages("qpcR")
load("filename.RDA")
load("~data/IslandBirds.rda")
IslandBirds <- read.table("~/Documents/DiversityOccu/data/IslandBirds.rda", quote="\"")
View(IslandBirds)
load("~/Documents/DiversityOccu/data/IslandBirds.rda", quote="\"")
load("~/Documents/DiversityOccu/data/IslandBirds.rda")
install.packages("devtools")
library(DiversityOccupancy)
install.packages("knitr")
install.packages("rmarkdown")
?break
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
?paste
library(DiversityOccupancy)
data("IslandBirds")
data("Daily_Cov")
data("siteCov")
BirdOccupancy <-batchoccu(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp =  5, form = ~ Day + Wind + Rain + Noise + Clouds ~
Elev + AgroFo + SecVec + Wetland)
data("IslandBirds")
data("Daily_Cov")
data("siteCov")
BirdOccupancy <-batchoccu(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp =  5, form = ~ Day + Wind + Rain + Noise + Clouds ~
Elev + AgroFo + SecVec + Wetland)
data("IslandBirds")
data("Daily_Cov")
data("siteCov")
BirdOccupancy <-batchoccu(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp =  5, form = ~ Day + Wind + Rain + Noise + Clouds ~
Elev + AgroFo + SecVec + Wetland, dredge = TRUE)
library(DiversityOccupancy)
BirdDiversity <-diversityoccu(pres = IslandBirds, sitecov = siteCov,
obscov = Daily_Cov,spp =  5, form = ~ Day + Wind + Time + Rain +
Noise ~ Elev + AgroFo + SecVec + Wetland + Upland)
?try
print(try(log("a"), TRUE))
?tryCatch
tryCatch(1, finally = print("Hello"))
e <- simpleError("test error")
## Not run:
stop(e)
tryCatch(stop(e), finally = print("Hello"))
tryCatch(stop("fred"), finally = print("Hello"))
sqrt(4)
sqrt(-4)
sqrt(a)
tryCatch(sqrt("4"), finally = print("Hello"))
tryCatch(sqrt(4), finally = print("Hello"))
tryCatch(sqrt(4), finally = print("Hello"))
tryCatch(sqrt(4), finally = print("Hello"))
for (n in proist)
dgadglo
proist <- c(-4, "a", 4)
str(proist)
proist <- list(-4, "a", 4)
str(proist)
for (n in proist)
try({
a <- sqrt(n)
,
else{coeff.poly.only.res<<-coef(polyfitted.total)}
},silent=FALSE)
for (n in proist)
try({
a <- sqrt(n),
print(a),
else{print("not possible")}
},silent=FALSE)
?tryCatch
library(raster)
?predict
library(DiversityOccupancy)
?model.avg
library(DiversityOccupancy)
?batchoccuavg
data("IslandBirds")
data("Daily_Cov")
data("siteCov")
BirdOccupancy <-batchoccuavg(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp =  5, form = ~ Day + Wind + Rain + Noise + Clouds ~
Elev + AgroFo + SecVec + Wetland)
#Summary of averaged model for species 2
summary(BirdOccupancy$models[[2]])
BirdOccupancy2 <- batchoccuavg(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp = 5, form = ~ 1 ~
Elev + AgroFo, dredge = TRUE)
summary(BirdOccupancy2$models[[2]])
?model.avg
library(DiversityOccupancy)
library(DiversityOccupancy)
BirdOccupancy2 <- batchoccuavg(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp = 5, form = ~ 1 ~
Elev + AgroFo, dredge = TRUE)
BirdOccupancy2 <- batchoccuavg(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp = 5, form = ~ 1 ~
Elev + AgroFo + Wind + Rain, dredge = TRUE)
BirdOccupancy2 <- batchoccuavg(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp = 5, form = ~ 1 ~
Elev + AgroFo + SecVec +Wetland, dredge = TRUE)
?model.avg
?batchoccuavg
BirdOccupancy2 <- batchoccuavg(pres = IslandBirds, sitecov = siteCov, obscov =
Daily_Cov, spp = 5, form = ~ 1 ~
Elev + AgroFo, dredge = TRUE, delta = 100)
library(DiversityOccupancy)
library(unmarked)
?occu
data(frogs)
pferUMF <- unmarkedFrameOccu(pfer.bin)
plot(pferUMF, panels=4)
# add some fake covariates for illustration
siteCovs(pferUMF) <- data.frame(sitevar1 = rnorm(numSites(pferUMF)))
# observation covariates are in site-major, observation-minor order
obsCovs(pferUMF) <- data.frame(obsvar1 = rnorm(numSites(pferUMF) * obsNum(pferUMF)))
(fm <- occu(~ obsvar1 ~ 1, pferUMF))
fm
class(fm)
data("mtcars")
pkgdown::build_site()
?MuMIn::dredge()
library(DiversityOccupancy)
pkgdown::build_site()
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
library(DiversityOccupancy)
Spp <- readRDS("/home/derek/Documents/DataYuryi/data_reg6sp.rds")
OccuCov <- readRDS("/home/derek/Documents/DataYuryi/Occdata_ocu.rds")
DetCov <- readRDS("/home/derek/Documents/DataYuryi/Occdata_det.rds")
colnames(OccuCov)
names(DetCov)
?batchoccu
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form = "~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa ~ Temperatura + Humedad + Presencia_perros")
Test
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form = "~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa ~ Temperatura")
Test
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form = ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa ~ Temperatura)
Test
Test
Test
Test
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa )
Test
Test$models
Test$models
Test$fit
Test$Covs
Test$models
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T)
Test$models
Test$models
name(Test$models)
names(Test$models)
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T)
names(Test$models)
Test$models
Test$fit
predict(Test$models[[2]], type = "state", newdata = Test$Covs)
predict(Test$models[[2]], type = "state", newdata = Test$Covs)$Predicted
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T)
Test$fit
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = F)
Test$fit
Test$models
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T)
Test$fit
Test$models
colnames(Spp)
Test$fit
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T)
Test$Covs
Test$Covs
Test$models
Test$fit
colnames(Spp)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Churrete_Chico", "Churrete_comun"))
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
Test$fit
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
Test$Covs
Test$models
Test$models$Aguilucho
Test$models$Blanquillo
Test$models$Aguilucho
Test$models$Chicol
Test$models$Aguilucho
Test$models$Chercan
cond <- sapply(Test$models, function(x) class(x) == "data.frame")
sims <- sims[cond]
class(Test$models)
class(Test$models[[1]])
class(Test$models[[2]])
cond <- sapply(Test$models, function(x) !is.null(x))
cond
Test$fit[,cond]
cond
a <- NULL
a
length(a)
length(cond)
cond
c("a", "b", "c")
c("a", "b", "c")[1,2]
c("a", "b", "c")[c(1,2)]
paste("species", c("a", "b", "c")[c(1,2)], "did not converge")
c("a", "b", "c")
paste(c("a", "b", "c"))
paste(c("a", "b", "c"), collapse = ",")
paste(c("a", "b", "c"), collapse = ", ")
paste("species", paste(c("a", "b", "c")[c(1,2)], collapse = ", "), "did not converge")
paste("species", paste(c("a", "b", "c")[c(1,2)], collapse = ", "), "did not converge, try with less variables")
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
summary(DetCov)
summary(DetCov$Fecha_muestreo)
summary(DetCov$Hora_muestreo)
summary(DetCov$Lluvia
)
summary(OccuCov)
summary(OccuCov$Sitio)
OccuCov$Sitio
OccuCov$AMBIENTE
summary(DetCov$Temperatura)
summary(DetCov$Humedad)
View(DetCov$Temperatura)
View(DetCov$Humedad)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
Test$fit
Test$models
Test$models
library(DiversityOccupancy)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
library(DiversityOccupancy)
library(DiversityOccupancy)
Spp <- readRDS("/home/derek/Documents/DataYuryi/data_reg6sp.rds")
OccuCov <- readRDS("/home/derek/Documents/DataYuryi/Occdata_ocu.rds")
DetCov <- readRDS("/home/derek/Documents/DataYuryi/Occdata_det.rds")
#Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T)
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
library(DiversityOccupancy)
Spp <- readRDS("/home/derek/Documents/DataYuryi/data_reg6sp.rds")
OccuCov <- readRDS("/home/derek/Documents/DataYuryi/Occdata_ocu.rds")
DetCov <- readRDS("/home/derek/Documents/DataYuryi/Occdata_det.rds")
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chicol", "Churrete_Chico", "Churrete_comun"))
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chincol", "Churrete_Chico", "Churrete_comun"))
Test
?dplyr::select_if()
class(Test)
library(tidyverse)
Most_Abundant <- function(x){
names(sort(table(x), decreasing = T)[1])
}
Test
Test$models$Chercan
Test$models$Blanquillo
Test$models$Blanquillo
Test$models$Blanquillo$state
Test$models$Blanquillo
broom::tidy(Test$models$Blanquillo)
Test$models$Blanquillo
Test$models$Blanquillo@knownOcc
Test$models$Blanquillo@fitType
Test$models$Blanquillo@call
Test$models$Blanquillo@data
Test$models$Blanquillo@estimates
Test$models$Blanquillo@estimates$state
Test$models$Blanquillo@estimates@estimates
Test$models$Blanquillo@estimates@estimates$state
class(Test$models$Blanquillo@estimates@estimates$state)
Test$models$Blanquillo@estimates@estimates$state
Test$models$Blanquillo@estimates@estimates$state@name
Test$models$Blanquillo@estimates@estimates$state@estimates
class(Test$models$Blanquillo@estimates@estimates$state@estimates)
names(Test$models$Blanquillo@estimates@estimates$state@estimates)
names(Test$models$Blanquillo@estimates@estimates$state@estimates)[-1]
Cosos <- names(Test$models$Blanquillo@estimates@estimates$state@estimates)[-1]
Cosos
Test$Covs
Test$Covs %>% select(Cosos)
Test$models[1]
Test$models[[1]]
Test$models[[1]]@estimates
Test$models[[1]]@estimates$state
Test$models[[1]]@estimates@estimates$state@estimates
Test$models[[1]]@estimates$state
Test$models[[1]]@estimates@estimates$state@estimates
(Test$models[[1]]@estimates@estimates$state@estimates)
(Test$models[[1]]@estimates@estimates$state@estimates)[-1]
(Test$models[[1]]@estimates@estimates$state@estimates)[-1]
names(Test$models[[1]]@estimates@estimates$state@estimates)[-1]
Test$Covs %>% select(Cosos)
Test$Covs %>% select(Cosos) %>% class()
Test$Covs %>% select(Cosos) %>% group_by_if(is.character) %>% summarise_all(mean)
Test$Covs %>% select(Cosos) %>% group_by_if(is.character) %>% summarise_all(mean)
Test$Covs %>% select(Cosos) %>% group_by_if(is.character) %>% summarise_all(mean)
library(tidyverse)
library(tidyverse)
batch = Test
spp = 1
variable = "Distancia_Costa"
A <- batch$Covs %>% select(Cosos) %>% mutate_if(is.factor, as.character) %>% group_by_if(is.character) %>% summarise_if(is.numeric, mean) %>% ungroup()
A
do
?do
A <- batch$Covs %>% select(Cosos) %>% mutate_if(is.factor, as.character) %>% group_by_if(is.character) %>% summarise_if(is.numeric, mean) %>% ungroup() %>% do(data.frame(column = rep(.$column, each = 20), stringsAsFactors = FALSE))
A
?dplyr::add_row()
A[rep(seq_len(nrow(A)), each = 2), ]
A <- batch$Covs %>% select(Cosos) %>% mutate_if(is.factor, as.character) %>% group_by_if(is.character) %>% summarise_if(is.numeric, mean) %>% ungroup()
A
A[rep(seq_len(nrow(A)), each = 2), ]
A[rep(seq_len(nrow(A)), each = 20), ]
A <- A[rep(seq_len(nrow(A)), each = 20), ]
A <- batch$Covs %>% select(Cosos) %>% mutate_if(is.factor, as.character) %>% group_by_if(is.character) %>% summarise_if(is.numeric, mean) %>% ungroup()
A <- A[rep(seq_len(nrow(A)), each = 20), ]  %>% arrange_if(is.character)
A
A <- batch$Covs %>% select(Cosos) %>% mutate_if(is.factor, as.character) %>% group_by_if(is.character) %>% summarise_if(is.numeric, mean) %>% ungroup()
A <- A[rep(seq_len(nrow(A)), each = 20), ]  %>% arrange_if(is.character)
MinMax <- batch$Covs %>% select(variable) %>% summarise_if(is.numeric, .f = c(min, max)) %>% distinct()
MinMax
variable
dplyr::vars(variable)
select(A, dplyr::vars(variable))
A <- batch$Covs %>% select(Cosos) %>% mutate_if(is.factor, as.character) %>% group_by_if(is.character) %>% summarise_if(is.numeric, mean) %>% ungroup()
A <- A[rep(seq_len(nrow(A)), each = 20), ]  %>% arrange_if(is.character)
MinMax <- batch$Covs %>% select(variable) %>% summarise_if(is.numeric, .f = c(min, max)) %>% distinct()
A %>% mutate(variable = "A")
Test <- batchoccu(pres = Spp, sitecov = OccuCov, obscov = DetCov, spp = 6, form =~ Temperatura + Humedad + Presencia_perros ~AMBIENTE + CobVeg + Distancia_rio + Distancia_Costa , dredge = T, SppNames = c("Aguilucho", "Blanquillo", "Chercan", "Chincol", "Churrete_Chico", "Churrete_comun"))
A$CobVeg
A
Test
Test$models
Test$models$Churrete_comun

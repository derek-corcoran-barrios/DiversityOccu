}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
data("BatOccu")
data("sampling.cov")
data("Dailycov")
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n
n$models
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
}
for (i in 1:length(models)){
dredged[[i]] <- dredge(models[[i]])
}
}
result <- list(Covs = sitecov, models = dredged)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
library("vegan", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
diversityoccu<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
}
if (dredge == FALSE){
for(i in 1:length(secuencia)){
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for (i in 1:length(secuencia)){
dredged[[i]] <- dredge(models[[i]])
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
diversityoccu<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
}
if (dredge == FALSE){
for(i in 1:length(secuencia)){
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for (i in 1:length(secuencia)){
dredged[[i]] <- dredge(models[[i]])
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n$models
n$models
diversityoccu<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
if (dredge == TRUE){
for (i in 1:length(secuencia)){
dredged[[i]] <- dredge(models[[i]])
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n$models
diversityoccu<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
if (dredge == TRUE){
for (i in 1:length(secuencia)){
dredged[[i]] <- dredge(models[[i]])
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
if (dredge == TRUE){
for (i in 1:length(secuencia)){
dredged[[i]] <- dredge(models[[i]])
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
if (dredge == TRUE){
for (i in 1:length(secuencia)){
dredged[[i]] <- dredge(models[[i]])
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n
n$models
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n
detach("package:vegan", unload=TRUE)
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
names(n)
n$models
library("MuMIn", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
library("unmarked", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
library("vegan", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
dredged[[i]] <- dredge(occuRN(form, models[[i]]))
dredged[[i]] <- get.models(dredged[[i]])
div[[i]] <- predict(dredged[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
result <- list(Covs = sitecov, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
?get.models
library(DiversityOccupancy)
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
dredged[[i]] <- dredge(occuRN(form, models[[i]]))
}
}
result <- list(Covs = sitecov, models = dredged)
return(result)
}
n<-diversityoccu(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + 2Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n<-diversityoccu2(pres = BatOccu[,1:12], sitecov = sampling.cov, obscov = Dailycov, spp = 4, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n$models
n$models[[1]]
clas(n$models[[1]])
class(n$models[[1]])
class(n$models[[1]][1,])
n$models[[1]][1,]
get.models(n$models, subset = 1)[[1]]
get.models(n$models[[1]], subset = 1)[[1]]
get.models
get.models(n$models[[1]], subset = 1)
get.models(n$models, subset = 1)[[1]]
get.models(n$models)
class(n$models)
class(n$models[[1]])
?get.models
get.models(n$models[[1]])
get.models(n$models[[1]], subset = TRUE)
n<-diversityoccu(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n<-diversityoccu(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n$models
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
dredged[[i]] <- dredge(occuRN(form, models[[i]]))
}
}
result <- list(Covs = sitecov, models = dredged)
return(result)
}
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
dredged[[i]] <- dredge(occuRN(form, models[[i]]))
}
}
result <- list(Covs = sitecov, dredged = dredged, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n$models
n$models
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
dredged[[i]] <- dredge(models[[i]])
}
}
result <- list(Covs = sitecov, dredged = dredged, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
diversityoccu2<- function(pres, sitecov, obscov, spp, form, index = "shannon", dredge = FALSE) {
secuencia <- c(1:spp)*(ncol(pres)/spp)
secuencia2<-secuencia-(secuencia[1]-1)
models <- list()
div <- list()
dredged <- list ()
if (dredge == FALSE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
models[[i]] <- occuRN(form, models[[i]])
div[[i]] <- predict(models[[i]], type = "state", newdata = sitecov)$Predicted
div<- as.data.frame(div)
h<- diversity(div, index)
}
}
else if (dredge == TRUE){
for(i in 1:length(secuencia)) {
models[[i]] <-c(secuencia2[i]:secuencia[i])
models[[i]] <- pres[, models[[i]]]
models[[i]] <- unmarkedFrameOccu(y = models[[i]], siteCovs = sitecov, obsCovs = obscov)
dredged[[i]] <- dredge(occuRN(form, models[[i]]))
}
}
result <- list(Covs = sitecov, dredged = dredged, models = models)
return(result)
}
n<-diversityoccu2(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = TRUE)
n$models
n$dredged
n$dredged[1,]
class(n$dredged)
class(n$dredged)[[1]]
class(n$dredged[[1]])
n$dredged[[1]][1,]
n$dredged[[1]][2,]
n$dredged[[1]][6,]
n$dredged[[1]][1,]
names(n$dredged[[1]])
get.model(n$dredged[[1]])
get.modela(n$dredged[[1]])
get.models(n$dredged[[1]])
get.models(n$dredged[[1]], 1)
n$dredged[[1]][1,]
n$models
n<-diversityoccu2(pres = BatOccu[,1:3], sitecov = sampling.cov, obscov = Dailycov, spp = 1, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n$models
n$models[[1]]
class(n$models[[1]])
names(n$models[[1]])
n$models[[1]]$state
n$models[[1]]@state
attributes(n$models[[1]])
n$models[[1]]@data
names(n$models[[1]]@data)
class(n$models[[1]]@data)
n<-diversityoccu(pres = BatOccu[,1:9], sitecov = sampling.cov, obscov = Dailycov, spp = 3, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
n
model.diversity(n, squared = TRUE, method = "g")
model.diversity(n, squared = FALSE, method = "g")
model.diversity(n, squared = FALSE, method = "g")
library(DiversityOccupancy)
model.diversity(n, squared = FALSE, method = "g", delta = 3)
t<-model.diversity(n, squared = FALSE, method = "g", delta = 2)$Table
t
install.packages("qpcR")
library(DiversityOccupancy)
n<-diversityoccu(pres = BatOccu[,1:9], sitecov = sampling.cov, obscov = Dailycov, spp = 3, form = ~ Julian + Meanhum + Meantemp + sdhum + sdtemp ~Burn.intensity.soil + Burn.intensity.Canopy + Burn.intensity.basal , dredge = FALSE)
t<-model.diversity(n, squared = FALSE, method = "g", delta = 2)$Table
t$weights
t
library(DiversityOccupancy)
t<-model.diversity(n, squared = FALSE, method = "g", delta = 2)$Table
?akaike.weights
library(DiversityOccupancy)
t<-model.diversity(n, squared = FALSE, method = "g", delta = 2)$Table
t
sum(t$weights)
?filter
library(DiversityOccupancy)
